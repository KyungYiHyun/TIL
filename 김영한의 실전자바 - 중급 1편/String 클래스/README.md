# String 클래스

### String 클래스 - 비교

- ```String``` 클래스를 비교할 때는 ```==``` 비교가 아니라 항상 ```equals()```  비교를 해야한다.

- **동일성(Identity)** : ```==``` 연산자를 사용해여 두 객체의 참조가 동일한지 비교

- **동등성(Equality)** : ```equals()``` 메서드를 사용하여 두 객체가 논리적으로 같은지 확인(값을 비교)

##### 문자열 풀(String Pool)

- 문자열 리터럴을 모아두는 공간

- 같은 문자열이 있으면 만들지 않는다.

- 즉 문자열 값이 같은 문자열 리터럴들은 같은 참조값을 갖는다.

### String 클래스 - 불변객체

- ```String``` 은 불변 객체이기 때문에 변경이 필요한 경우 기존 값을 변경하지 않고 새로운 값을 반환한다.

### StringBuilder - 가변 String

- 불변인 ```String``` 클래스는 문자를 더하거나 변경할 때 마다 계속해서 새로운 객체를 만들어야 한다. 결과적으로 컴퓨터의 CPU, 메모리 자원을 더 많이 사용하게 된다.

- ```StringBuilder``` 를 사용하여 가변 ```String``` 을 만들 수 있다.

- ```append()``` ,```insert()``` ,```delete()``` ,```reverse()``` 메서드가 있다.

- 마지막에는 ```toString```을 사용해 안전한(불변) ```String```으로 바꿔주는게 좋다.  

### String 최적화

- 자바 컴파일러는 문자열 리터럴를 더할 때 더하는 부분을 자동으로 합쳐준다.

- 문자열 변수의 경우 컴파일 시점에 값을 알 수 없기 때문에 ```StringBuilder``` 객체를 새로 만들어 ```append()```를 사용해 합친다.
  -> ```String result = newStringBuilder().append(str1).append(str2).toString();```

- 위와 같이 간단한 경우에는 자바가 최적화를 해주기 때문에 ```+``` 연산으로 충분하다.

- 하지만 ```for``` 문 안에서 문자열을 더해야 할 때 ```+``` 연산을 사용하게 되면 ```for``` 문 반복 횟수만큼 객체를 생성하게 된다.

- 따라서 반복문에서 문자를 연결할 때에는 ```String Builder``` 를 사용해야 한다.

### 메서드 체이닝 - Method Chaining

- ```this``` (자기자신)의 참조값을 반환시키고 반환된 참조값을 즉시 사용해 바로 메서드를 호출하는 방식

- 코드를 간결하고 읽기 쉽게 만들어준다.

- ```StringBuilder``` 가 메서드 체이닝 기법을 사용한다.
  -> ```public StringBuilder append(String str) {
  super.append(str);
  return this;
  }```

 
